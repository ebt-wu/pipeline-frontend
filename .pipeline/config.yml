# Piper general purpose pipeline
# This pipeline was generated by Hyperspace Onboarding
# To modify the pipeline or add additional steps please check:
# https://github.wdf.sap.corp/pages/ContinuousDelivery/piper-doc/stages/
general:
  buildTool: npm
  manualConfirmation: false
  karmaExecuteTests: false
  nativeBuild: true
  pipelineOptimization: true
  productiveBranch: main
  vaultBasePath: piper/PIPELINE-GROUP-2044
  vaultNamespace: ies/hyperspace/pipelines
  vaultPath: piper/PIPELINE-GROUP-2044
  vaultPipelineName: pipeline-frontend
  vaultServerUrl: https://vault.tools.sap
stages:
  Release:
    # gitopsUpdateDeployment: true
    # githubPublishRelease: true
steps:
  artifactPrepareVersion:
    gitHttpsCredentialVaultSecretName: GROUP-SECRETS/github-tools-sap-hyperspace-onboarding-serviceuser
  sapCallStagingService:
    profile: group-2044-default
    url: https://staging.repositories.cloud.sap/stage/api
  sonarExecuteScan:
    serverUrl: https://sonar.tools.sap
    sonarVaultSecretName: GROUP-SECRETS/sonar-hyperspace-@-global-sap-corp
  sapCumulusUpload:
    pipelineId: 3e3b8127-5f71-43f8-a1eb-d4c129959282
  # gitopsUpdateDeployment:
  #   containerImageNameTag: $PIPER_containerImageNameTag
  #   containerRegistryUrl: $PIPER_containerRegistryUrl
  #   filepath: $PIPER_filePath
  # githubPublishRelease:
  #   Aliases: $PIPER_owner
  #   repository: 'https://github.tools.sap/hyperspace/pipeline-frontend'
  #   version: $PIPER_version


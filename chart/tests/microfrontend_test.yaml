suite: Microfrontend Test Suite
templates:
  - extensions.yaml
values:
  - ../values.yaml
  - ../stack-values.yaml
tests:
  - it: Test Extension matches the snapshot
    template: extensions.yaml
    set:
      environment: dev
    asserts:
      - matchSnapshot: {}
  - it: Has CDM for live
    template: extensions.yaml
    set:
      environment: live
      features:
        enabledProjects:
          - p1
          - p2
    asserts:
      - matchSnapshot: {}
  - it: githubActions feature enabled for some projects
    template: extensions.yaml
    set:
      features:
        GITHUB_ACTIONS_ENABLED:
          - hyperspace-ci-cd-examples
        anotherFlag: true
    asserts:
      - matchSnapshot: {}

<div>
  <div class="flex-box">
    <h3 class="heading-margin">Checkmarx ONE</h3>
    <button
      class="auto-left-margin"
      role="button"
      fdType="transparent"
      glyph="question-mark"
      label="Learn More"
      (click)="openDocumentation()"
      fd-button></button>
  </div>

  <a
    *ngIf="serviceDetails.applicationUrl"
    [href]="serviceDetails.applicationUrl"
    target="_blank"
    rel="noopener noreferrer">
    {{ serviceDetails.applicationName }}
  </a>
  <span *ngIf="!serviceDetails.applicationUrl">
    {{ serviceDetails.applicationName }}
  </span>

  <div class="flex-box">
    <h3 class="heading-margin">Project Name</h3>
  </div>

  <p class="p-tag-remove-margin">{{ serviceDetails.projectName }}</p>

  <div *ngIf="serviceDetails.secretPath">
    <div *dxpRequiredPolicies="['member', 'owner', 'vault_maintainer']; operator: 'or'">
      <div class="flex-box top-margin">
        <h3>Credentials</h3>
        <br />
      </div>
      <div>
        <b>Vault Path</b>
      </div>
      <fd-busy-indicator [loading]="pendingShowInVault()" size="s">
        <div [fd-inline-help]="insufficientVaultPermissions" [disabled]="canUserEditCredentials()">
          <a
            fd-link
            [disabled]="pendingShowInVault() || !canUserEditCredentials()"
            (click)="showInVault(serviceDetails.secretPath)">
            {{ serviceDetails.secretPath }}
          </a>
        </div>
      </fd-busy-indicator>
    </div>
  </div>
</div>

<ng-template #insufficientVaultPermissions>
  You need to be 'Vault Maintainer' to see credentials.
  <br />
  Go to the members list to contact a project owner.
</ng-template>
